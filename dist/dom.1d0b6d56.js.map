{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","node2","console","log","nextSibling","parentNode","insertBefore","before","append","parent","appendChild","wrap","remove","removeChild","empty","array","x","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","innerText","textContent","html","style","Object","key","class","add","className","classList","has","contains","on","eventName","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","children","siblings","Array","from","filter","n","next","nodeType","previous","previousSibling","each","nodeList","i","call","index","list"],"mappings":"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","file":"dom.1d0b6d56.js","sourceRoot":"..\\src","sourcesContent":["window.dom = {\r\n  create(string) {\r\n    //创建新元素\r\n    const container = document.createElement(\"template\");\r\n    container.innerHTML = string.trim();\r\n    return container.content.firstChild;\r\n  },\r\n\r\n  after(node, node2) {\r\n    //在node后插入node2\r\n    console.log(node.nextSibling);\r\n    node.parentNode.insertBefore(node2, node.nextSibling);\r\n  },\r\n\r\n  before(node, node2) {\r\n    //在node前插入node2\r\n    node.parentNode.insertBefore(node2, node);\r\n  },\r\n\r\n  append(parent, node) {\r\n    //将node插入parent中\r\n    parent.appendChild(node);\r\n  },\r\n\r\n  wrap(node, parent) {\r\n    //将node用parent包裹\r\n    dom.before(node, parent);\r\n    //在node前加入parent节点\r\n    dom.append(parent, node);\r\n    //将node转移到parent下\r\n  },\r\n\r\n  remove(node) {\r\n    //删除node节点\r\n    node.parentNode.removeChild(node);\r\n    return node;\r\n  },\r\n\r\n  empty(node) {\r\n    //清空node节点\r\n    const array = [];\r\n    let x = node.firstChild;\r\n    while (x) {\r\n      array.push(dom.remove(node.firstChild));\r\n      x = node.firstChild;\r\n    }\r\n    return array;\r\n  },\r\n\r\n  attr(node, name, value) {\r\n    //重载\r\n    //在node中添加一个值为value的name属性\r\n    if (arguments.length === 3) {\r\n      node.setAttribute(name, value);\r\n    } else if (arguments.length === 2) {\r\n      return node.getAttribute(name);\r\n    }\r\n  },\r\n\r\n  text(node, string) {\r\n    //适配\r\n    //更改node的文本内容\r\n    if (arguments.length === 2) {\r\n      if (\"innerText\" in node) {\r\n        node.innerText = string;\r\n      } else {\r\n        node.textContent = string;\r\n      }\r\n    } else if (arguments.length === 1) {\r\n      if (\"innerText\" in node) {\r\n        return node.innerText;\r\n      } else {\r\n        return node.textContent;\r\n      }\r\n    }\r\n  },\r\n\r\n  html(node, string) {\r\n    //更改node的html内容\r\n    if (arguments.length === 2) {\r\n      node.innerHTML = string;\r\n    } else if (arguments.length === 1) {\r\n      return node.innerHTML;\r\n    }\r\n  },\r\n\r\n  style(node, name, value) {\r\n    //更改node的css\r\n    if (arguments.length === 3) {\r\n      //dom.style(div,'color','red')\r\n      node.style[name] = value;\r\n    } else if (arguments.length === 2) {\r\n      //dom.style(div,'color')\r\n      if (typeof name === \"string\") {\r\n        return node.style[name];\r\n      } else if (name instanceof Object) {\r\n        //dom.style(div,{border:'1px solid red'})\r\n        for (let key in name) {\r\n          node.style[key] = name[key];\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  class: {\r\n    //增减类\r\n    add(node, className) {\r\n      node.classList.add(className);\r\n    },\r\n    remove(node, className) {\r\n      node.classList.remove(className);\r\n    },\r\n    has(node, className) {\r\n      return node.classList.contains(className);\r\n    },\r\n  },\r\n\r\n  //监听事件\r\n  on(node, eventName, fn) {\r\n    node.addEventListener(eventName, fn);\r\n  },\r\n  off(node, eventName, fn) {\r\n    node.removeEventListener(eventName, fn);\r\n  },\r\n\r\n  //查找node\r\n  find(selector, scope) {\r\n    return (scope || document).querySelectorAll(selector);\r\n  },\r\n  parent(node) {\r\n    return node.parentNode;\r\n  },\r\n  children(node) {\r\n    return node.children;\r\n  },\r\n  siblings(node) {\r\n    return Array.from(node.parentNode.children).filter((n) => n !== node);\r\n  },\r\n  next(node) {\r\n    let x = node.nextSibling;\r\n    while (x && x.nodeType === 3) {\r\n      x = x.nextSibling;\r\n    }\r\n    return x;\r\n  },\r\n  previous(node) {\r\n    let x = node.previousSibling;\r\n    while (x && x.nodeType === 3) {\r\n      x = x.previousSibling;\r\n    }\r\n    return x;\r\n  },\r\n  each(nodeList, fn) {\r\n    for (let i = 0; i < nodeList.length; i++) {\r\n      fn.call(null, nodeList[i]);\r\n    }\r\n  },\r\n  index(node) {\r\n    const list = dom.children(node.parentNode);\r\n    let i = 0;\r\n    for (i = 0; i < list.length; i++) {\r\n      if (list[i] === node) {\r\n        break;\r\n      }\r\n    }\r\n    return i;\r\n  },\r\n};\r\n"]}